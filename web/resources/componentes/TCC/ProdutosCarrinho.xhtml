<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://java.sun.com/jsf/composite"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:f="http://java.sun.com/jsf/core">

    <!-- INTERFACE -->
    <cc:interface displayName="Os produtos que estão no Carrinho" name="ProdutosCarrinho">
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>
        <rich:dataTable rendered="#{not empty controleProdutos.listaProdCarrinho}" style="width: 100%; text-align: center" iterationStatusVar="rem" value="#{controleProdutos.listaProdCarrinho}" var="item">
            <rich:column style="text-align: center">
                <f:facet name="header">
                    <h:outputText value="Produto"/>
                </f:facet>
                <h:graphicImage style="border: 0px; margin-left: 10px;margin-right: 10px;margin-top: 10px;margin-bottom: 10px;width: 60px;height: 60px" value="#{item.fotoUrl}" alt="Imagem do Produto"/>
                <h:outputText value="#{item.nome}"/>
            </rich:column> 
            <rich:column></rich:column>
            <rich:column>
                <f:facet name="header">
                    <h:outputText value="Quantidade"/>
                </f:facet>
                <rich:inputNumberSpinner minValue="1" step="1"  enableManualInput="false" value="#{controleProdutos.quantidade}"/>                 
            </rich:column>
            <rich:column>
                <f:facet name="header">
                    <h:outputText value="Preço"/>
                </f:facet>
                <h:outputText style="color: red;text-decoration: blink" value="#{item.preco}">
                    <f:convertNumber type="currency"/>
                </h:outputText>
            </rich:column>
            <rich:column></rich:column>
            <rich:column>
                <f:facet name="header">
                    <h:outputText value="Remover"/>
                </f:facet>
                <a4j:commandLink action="#{controleProdutos.removerProdLista()}" execute="@all" render="@all">
                    <a4j:param value="#{rem.index}" assignTo="#{controleProdutos.prodSelecionado}"/>
                    <h:graphicImage style="border: 0px;" value="/imagens/excluir.gif"/>
                <rich:tooltip><h:outputText value="Excluir"/></rich:tooltip> 
                </a4j:commandLink>
            </rich:column>
        </rich:dataTable>
    </cc:implementation>
</html>